<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cloud Box - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/api-docs.css') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='photos/favicon/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='photos/favicon/favicon-32x32.png') }}">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <h2 onclick="window.location.href='/'">Cloud Box</h2>
            </div>
        </div>
    </nav>

    <div class="docs-container">
        <aside class="sidebar">
            <div class="sidebar-section">
                <h3>–û—Å–Ω–æ–≤–Ω–æ–µ</h3>
                <ul>
                    <li><a href="#authentication" class="nav-link">–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</a></li>
                    <li><a href="#base-url" class="nav-link">–ë–∞–∑–æ–≤—ã–π URL</a></li>
                </ul>
            </div>
            
            <div class="sidebar-section">
                <h3>–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã</h3>
                <ul>
                    <li><a href="#user-info" class="nav-link">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</a></li>
                    <li><a href="#user-files" class="nav-link">–°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤</a></li>
                    <li><a href="#upload-file" class="nav-link">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</a></li>
                    <li><a href="#delete-file" class="nav-link">–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞</a></li>
                </ul>
            </div>
            
            <div class="sidebar-section">
                <h3>–ü—Ä–∏–º–µ—Ä—ã</h3>
                <ul>
                    <li><a href="#python-examples" class="nav-link">Python</a></li>
                </ul>
            </div>
        </aside>

        <main class="content">
            <section class="hero-section">
                <h1>Cloud Box API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h1>
                <p class="subtitle">–ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –Ω–∞—à–∏–º –æ–±–ª–∞—á–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º</p>
            </section>

            <section id="authentication" class="docs-section">
                <h2>–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</h2>
                <p>–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API —Ç—Ä–µ–±—É—é—Ç API –∫–ª—é—á–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ URL:</p>
                <div class="code-block">
                    <div class="code-header">
                        <span>–§–æ—Ä–º–∞—Ç URL</span>
                    </div>
                    <pre><code>https://192.168.1.8:8000/api/<mark>{API_KEY}</mark>/<mark>{ENDPOINT}</mark></code></pre>
                </div>
                <div class="info-box">
                    <strong>üí° –ì–¥–µ –Ω–∞–π—Ç–∏ API –∫–ª—é—á:</strong> –í –≤–∞—à–µ–º –ø—Ä–æ—Ñ–∏–ª–µ Cloud Box –≤ —Ä–∞–∑–¥–µ–ª–µ "API –∫–ª—é—á"
                </div>
            </section>

            <section id="base-url" class="docs-section">
                <h2>–ë–∞–∑–æ–≤—ã–π URL</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span>–ë–∞–∑–æ–≤—ã–π URL –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤</span>
                    </div>
                    <pre><code>https://192.168.1.8:8000/api/</code></pre>
                </div>
            </section>

            <section id="user-info" class="docs-section">
                <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h2>
                <p>–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ API –∫–ª—é—á–∞.</p>
                
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="url">/api/<mark>{API_KEY}</mark>/user_info</span>
                    </div>
                    
                    <h4>–û—Ç–≤–µ—Ç:</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span>JSON Response</span>
                        </div>
                        <pre><code>{
  "success": true,
  "user_name": "ivan",
  "email": "ivan@example.com",
  "user_api": "6ee5eb1cdd69a1d0e151eb1cc87fb5ac...",
  "personal_box_id": "abc123def456...",
  "is_verified": true
}</code></pre>
                    </div>
                </div>
            </section>

            <section id="user-files" class="docs-section">
                <h2>–°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤</h2>
                <p>–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤ –æ–±–ª–∞—á–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.</p>
                
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="url">/api/<mark>{API_KEY}</mark>/user_files</span>
                    </div>
                    
                    <h4>–û—Ç–≤–µ—Ç:</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span>JSON Response</span>
                        </div>
                        <pre><code>{
  "success": true,
  "files": [
    "document.pdf",
    "photo.jpg",
    "data.xlsx"
  ]
}</code></pre>
                    </div>
                </div>
            </section>

            <section id="upload-file" class="docs-section">
                <h2>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</h2>
                <p>–ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª –≤ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.</p>
                
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="url">/api/<mark>{API_KEY}</mark>/upload_file</span>
                    </div>
                    
                    <h4>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:</h4>
                    <ul class="params-list">
                        <li><code>file</code> - —Ñ–∞–π–ª –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ (multipart/form-data)</li>
                    </ul>
                    
                    <h4>–û—Ç–≤–µ—Ç:</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span>JSON Response</span>
                        </div>
                        <pre><code>{
  "success": true,
  "message": "File uploaded successfully",
  "filename": "document.pdf",
  "size": 2048576
}</code></pre>
                    </div>
                </div>
            </section>

            <section id="delete-file" class="docs-section">
                <h2>–£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞</h2>
                <p>–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª –∏–∑ –æ–±–ª–∞—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.</p>
                
                <div class="endpoint-card">
                    <div class="endpoint-header">
                        <span class="method post">POST</span>
                        <span class="url">/api/<mark>{API_KEY}</mark>/delete_file/<mark>{filename}</mark></span>
                    </div>
                    
                    <h4>–û—Ç–≤–µ—Ç:</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span>JSON Response</span>
                        </div>
                        <pre><code>{
  "success": true,
  "message": "Delete document.pdf"
}</code></pre>
                    </div>
                </div>
            </section>

            <section id="python-examples" class="docs-section">
                <h2>–ü—Ä–∏–º–µ—Ä—ã –Ω–∞ Python</h2>
                
                <div class="example-card">
                    <h4>–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span>Python</span>
                        </div>
                        <pre><code>import requests

API_KEY = "your_api_key_here"

response = requests.post(
    f"http://192.168.1.8:8000/api/{API_KEY}/user_info"
)

if response.status_code == 200:
    data = response.json()

    print(f"User: {data['user_name']}")
    print(f"Email: {data['email']}")

else:
    print(f"Error: {response.json()['error']}")</code></pre>
                    </div>
                </div>

                <div class="example-card">
                    <h4>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <span>Python</span>
                        </div>
                        <pre><code>import requests

API_KEY = "your_api_key_here"
file_path = "path/to/your/file.pdf"

with open(file_path, 'rb') as file:
    files = {'file': (file_path, file)}
    response = requests.post(
        f"http://192.168.1.8:8000/api/{API_KEY}/upload_file",
        files=files
    )

if response.status_code == 200:
    data = response.json()

    print(f"Uploaded: {data['filename']}")
    print(f"Size: {data['size']} bytes")

else:
    print(f"Upload failed: {response.json()['error']}")</code></pre>
                    </div>
                </div>
            </section>

    <script src="{{ url_for('static', filename='js/api-docs.js')}}"></script>
</body>
</html>